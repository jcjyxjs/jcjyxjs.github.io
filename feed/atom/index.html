<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="english"><id>/</id><title>毫无作为</title><updated>2020-02-28T18:41:19.193057+08:06</updated><author><name>JCJYXJS</name><email>admin@elstec.cn</email></author><link href="/" rel="alternate"/><generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator><logo>/tx.png</logo><subtitle>Personal blog</subtitle><entry><id>/archives/wnhqh/</id><title>记一次蜗牛星际安装黑群晖过程</title><updated>2020-02-28T10:41:19.193057+00:00</updated><author><name>jcjyxjs</name><email>admin@elstec.cn</email><uri>https://jcjyxjs.me</uri></author><content>&lt;p&gt;最近跟风入手了一台蜗牛星际B单，网口是i211原生千兆。不做软路由，纯粹安装黑群晖玩，换了静音风扇，闲鱼收了一个航嘉电源。买这个风扇的时候，找了家tm销量高的店，问那个卖家最便宜那个3针包不包邮。他居然告诉我最便宜这个不包邮其他都包邮，wdnmd，一算这样很亏，于是我买了一个白光的风扇10块
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/4/4.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;figcaption&gt;类似这样的一个，但不是这个店家&lt;/figcaption&gt;&lt;/figure&gt;
机子自带一个16g小固态，但这个ssd不敢恭维，渣中之渣，不过用来装系统最合适了。 
准备好群晖镜像和DiskImage，以及一个有pe系统的U盘或者移动硬盘。&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;镜像包压缩大概有639M，解压之后大小概为14.2G&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;重启进入BIOS开启UEFI，保存重启进入pe。
打开DiskGenius，选择自带的16g小固态，右键删除所有分区，保存关闭DG。
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/4/5.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;
打开DiskImage，&lt;em&gt;Write Image to&lt;/em&gt;选择16g固态，注意是硬盘不是分区。&lt;em&gt;Source File&lt;/em&gt;选择镜像，点击start开始写入，这个镜像写入完成之后重启就可以用了。
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/4/6.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;
重启之后显示器会显示如下信息并不会有任何GUI界面，重启的时候就可以拔掉显示器，u盘，键盘鼠标了
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/4/8.jpg?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;
使用同网设备浏览器进入&lt;a href="http://find.synology.com"&gt;find.synology.com&lt;/a&gt;查找设备，点击联机即可。用获取到的ip访问后台就可以了。
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/4/7.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;&lt;/p&gt;
</content><link href="/archives/wnhqh/" rel="alternate"/><published>2019-09-12T16:22:00+08:06</published></entry><entry><id>/archives/fixbtwaf/</id><title>解决宝塔nginx防火墙启动后nginx不工作</title><updated>2020-02-28T10:41:19.193057+00:00</updated><author><name>jcjyxjs</name><email>admin@elstec.cn</email><uri>https://jcjyxjs.me</uri></author><content>&lt;blockquote&gt;&lt;p&gt;起因是某wp群有人发bt专业版6个月28的活动，跟风上车。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;一套流程下来，发现安装nginx防火墙之后nginx直接关停，无法启动，重载配置也无果。试着卸载防火墙并重启nginx成功。论坛上也没有具体解决方案，官方人员只是说规则配置问题，要去加他们技术。不得不说，还挺牛.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;报错看下图&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/8/1.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/8/2.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/8/3.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;figcaption&gt;卸载bt的nginx防火墙就又正常了&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;解决方案：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mv /www/server/panel/vhost/nginx/btwaf.conf  /tmp/btwaf.conf_back
mv /www/server/panel/vhost/nginx/total.conf  /tmp/total.conf_back

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/8/4.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;figcaption&gt;最终效果&lt;/figcaption&gt;&lt;/figure&gt;&lt;/p&gt;
</content><link href="/archives/fixbtwaf/" rel="alternate"/><published>2019-11-09T19:32:00+08:06</published></entry><entry><id>/archives/ngxluawaf/</id><title>bt下开启nginx自带lua防火墙</title><updated>2020-02-28T10:41:19.193057+00:00</updated><author><name>jcjyxjs</name><email>admin@elstec.cn</email><uri>https://jcjyxjs.me</uri></author><content>&lt;blockquote&gt;&lt;p&gt;上一篇文章的事情发生后，就在看server目录。server下有一个btwaf应该是宝塔的付费插件，进入nginx文件夹下，有一个waf，就是被bt注释掉的自带lua防火墙。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;bt下配置nginx，搜索&lt;code&gt;#include luawaf.conf;&lt;/code&gt;取消注释，保存配置并重启nginx。
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/9/1.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;
这个waf没有界面只能修改配置文件，配置文件在&lt;code&gt;/www/server/nginx/waf&lt;/code&gt;下一个叫&lt;code&gt;config.lua&lt;/code&gt;的配置文件。
配置文件内容如下：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;attacklog = "on"
logdir = "/www/wwwlogs/waf/"
UrlDeny="on"
Redirect="on"
CookieMatch="off"
postMatch="off"
whiteModule="on"
black_fileExt={"php","jsp"}
ipWhitelist={"127.0.0.1"}
ipBlocklist={"1.0.0.1"}
CCDeny="off"
CCrate="300/60"

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;我只讲怎么开这个waf，并不讲怎么配置，没必要。这个和bt的waf还是有差距的，效果嘛仁者见仁智者见智。反正能用xD&lt;/p&gt;
</content><link href="/archives/ngxluawaf/" rel="alternate"/><published>2019-11-09T19:59:00+08:06</published></entry><entry><id>/archives/20191115/</id><title>k2p所有lan口无法使用之后我的解决方案</title><updated>2020-02-28T10:41:19.193057+00:00</updated><author><name>jcjyxjs</name><email>admin@elstec.cn</email><uri>https://jcjyxjs.me</uri></author><content>&lt;p&gt;我星期五从学校回来，晚上家里有事也没开房间的路由器。因为每次周日回学校，都会拔电源，周六早上一开，发现我的电脑无法上网，一开始以为是开机太快了，路由器还没开好，等了半天发现根本获取不到地址，不过奇怪的是WiFi是正常的，可以上网
不过刚好也想买一个交换机，就看了看H3C，发现 S1209F 这款还行，8千兆电口+1千兆光口，横向对比其他厂商8口千兆都超过了200块，于是就毫不犹豫的买了下来。k2p印象里是去年pdd上的灵车了，买来全新，刷的大雕魔改的高恪。&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/10/4.jpg?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;
今天周日刚刚到货。
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/10/3.jpg?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;
因为我是从其他房间光猫拉线到我房间，所以先接入交换机，然后分一根给路由器，一根给PC。
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/10/1.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/10/2.jpg?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;
具体就这么接，反正能用&lt;/p&gt;
</content><link href="/archives/20191115/" rel="alternate"/><published>2019-11-17T13:17:00+08:06</published></entry><entry><id>/archives/fixrpmdb/</id><title>解决yum报错</title><updated>2020-02-28T10:41:19.193057+00:00</updated><author><name>jcjyxjs</name><email>admin@elstec.cn</email><uri>https://jcjyxjs.me</uri></author><content>&lt;p&gt;这是我一台Google的服务器，很久不用，准备装软件突然就这样了。
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/11/1.PNG?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;不过只需要重构rpm数据库就可以了&lt;/p&gt;
&lt;/blockquote&gt;

&lt;pre&gt;&lt;code&gt;[root@hk-0 ~]# cd /var/lib/rpm
[root@hk-0 ~]# rm -rf __db*
[root@hk-0 ~]# rpm --rebuilddb

&lt;/code&gt;&lt;/pre&gt;
</content><link href="/archives/fixrpmdb/" rel="alternate"/><published>2019-11-17T15:54:00+08:06</published></entry><entry><id>/archives/hexoblog/</id><title>使用hexo搭建静态博客+Github Pages</title><updated>2020-02-28T10:41:19.193057+00:00</updated><author><name>jcjyxjs</name><email>admin@elstec.cn</email><uri>https://jcjyxjs.me</uri></author><content>&lt;h1&gt;使用hexo搭建静态博客步骤&lt;/h1&gt;
&lt;p&gt;1.安装Git&lt;/p&gt;
&lt;p&gt;2.安装Node.js&lt;/p&gt;
&lt;p&gt;3.安装hexo&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;其次，才是将hexo部署到例如Github等的平台&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;1.安装Git&lt;/h2&gt;
&lt;p&gt;Windows &amp;amp; Mac：访问Git官网 &lt;a href="https://git-scm.com/downloads"&gt;https://git-scm.com/downloads&lt;/a&gt; 下载安装即可&lt;/p&gt;
&lt;p&gt;Linux：同样访问Git官网（同上）查看安装方法&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;其实可以不安装Git，不安装并部署的方法放下翻。&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;2.安装Node.js&lt;/h2&gt;
&lt;p&gt;访问官网 &lt;a href="https://nodejs.org/zh-cn/download/"&gt;https://nodejs.org/zh-cn/download/&lt;/a&gt; 下载安装包下一步即可&lt;/p&gt;
&lt;p&gt;&lt;em&gt;需要注意的是，在安装到&lt;code&gt;Custom Setup&lt;/code&gt;这一步时，记得选&lt;code&gt;Add to Path&lt;/code&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;3.安装hexo&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;首先创建一个用来放置博客的文件夹，然后cd到该目录&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;然后安装hexo：&lt;code&gt;npm i -g hexo&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;安装完成之后可以输入&lt;code&gt;hexo -v&lt;/code&gt;查看版本&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;最后输入&lt;code&gt;hexo init&lt;/code&gt;初始化hexo完成安装&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;安装完成之后可在目录看到以下一些文件&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;&lt;tr&gt;
&lt;th&gt;node_modules&lt;/th&gt;
&lt;th style="text-align:left"&gt;&lt;strong&gt;依赖&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;scaffolds&lt;/strong&gt;&lt;/td&gt;
&lt;td style="text-align:left"&gt;&lt;strong&gt;生成网页的模板&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;source&lt;/strong&gt;&lt;/td&gt;
&lt;td style="text-align:left"&gt;&lt;strong&gt;Markdown文章&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;themes&lt;/strong&gt;&lt;/td&gt;
&lt;td style="text-align:left"&gt;&lt;strong&gt;主题&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;_config.yml&lt;/strong&gt;&lt;/td&gt;
&lt;td style="text-align:left"&gt;&lt;strong&gt;博客配置文件&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;db.json&lt;/strong&gt;&lt;/td&gt;
&lt;td style="text-align:left"&gt;&lt;strong&gt;source解析得到&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;package.json&lt;/strong&gt;&lt;/td&gt;
&lt;td style="text-align:left"&gt;&lt;strong&gt;所需模块项目的配置信息&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Public&lt;/strong&gt;&lt;/td&gt;
&lt;td style="text-align:left"&gt;&lt;strong&gt;存放生成页面&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;这个时候输入&lt;code&gt;hexo s&lt;/code&gt;就会在本地&lt;code&gt;localhost:4000&lt;/code&gt;启动了&lt;/p&gt;
&lt;p&gt;常用命令 &lt;code&gt;hexo s&lt;/code&gt; 启动  &lt;code&gt;hexo g&lt;/code&gt; 生成网页文件  &lt;code&gt;hexo d&lt;/code&gt; 部署&lt;code&gt;hexo clean&lt;/code&gt;清理你之前生成的东西&lt;/p&gt;
&lt;p&gt;具体的命令参数以及解释可以在官网看到 &lt;a href="https://hexo.io/zh-cn/docs/commands"&gt;https://hexo.io/zh-cn/docs/commands&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;4.部署到Github&lt;/h2&gt;
&lt;h3&gt;第一种方法&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;首先需要安装一个部署插件 &lt;code&gt;npm install hexo-deployer-git --save&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;然后登录Github，并新建一个Repositories(仓库)，name修改成你想要的名称，注意一定要选择public，不然别人没法访问你的网站，点Create进行创建&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/12/1.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;复制你仓库的地址比方说我新建的仓库是&lt;code&gt;name.github.io&lt;/code&gt;，那么你的仓库地址就是&lt;code&gt;https://github.com/jcjyxjs/name.github.io.git&lt;/code&gt;，仓库链接可在仓库页面页面复制到&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;修改博客根目录下的&lt;code&gt;_config.yml&lt;/code&gt; 代码第100行。type就git，repo就是上面复制的仓库地址，branch就是仓库分支，默认master。repo和branch需要手动打上去&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;deploy:&lt;/span&gt;

&lt;span class="err"&gt;type:&lt;/span&gt; &lt;span class="err"&gt;&amp;#39;git&amp;#39;&lt;/span&gt;

&lt;span class="err"&gt;repo:&lt;/span&gt; &lt;span class="err"&gt;https://github.com/jcjyxjs/name.github.io.git&lt;/span&gt;

&lt;span class="err"&gt;branch:&lt;/span&gt; &lt;span class="err"&gt;master&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;回到git bash，输入以下两条命令&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git config --global user.name "yourname"&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git config --global user.email "youremail"&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;创建SSH&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ssh-keygen -t rsa -C "youremail"&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;找到这个&lt;code&gt;.ssh&lt;/code&gt;的文件夹。里面有&lt;code&gt;id_rsa&lt;/code&gt;和&lt;code&gt;id_rsa.pub&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;然后在你的github settings里面新建一个SSH key，把你的&lt;code&gt;id_ras.pub&lt;/code&gt;中的内容填到key里面点击生成&lt;/p&gt;
&lt;p&gt;可以验证是否成功&lt;code&gt;ssh -T git@github.com&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;cd进入博客目录，输入&lt;code&gt;hexo g&lt;/code&gt;，等待网页文件生成，然后输入&lt;code&gt;hexo d&lt;/code&gt;进行部署，会提示输入你的github邮箱和密码，然后就自动部署了&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;第二种方法&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;安装Github Desktop，进入官网 &lt;a href="https://desktop.github.com/"&gt;https://desktop.github.com/&lt;/a&gt; 下载安装并打开&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;登录你的github账户&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;选择clone的仓库，会在你的本地生成一个跟仓库关联的文件夹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;代码有改动之后生成新的网页，复制public文件夹内的文件到你仓库文件夹，打开Github Desktop&lt;/p&gt;
&lt;p&gt;&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/12/2.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;点击&lt;code&gt;Commit to master&lt;/code&gt; master是你的分支名字，然后点击右上角的&lt;code&gt;Pull&lt;/code&gt;就可以提交了&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Github仓库绑定域名&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;在仓库页面点击&lt;code&gt;Settings&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;往下拉可以看到&lt;code&gt;Github Pages&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;把None改成你想要显示的分支，这项操作会自动刷新页面。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;刷新之后会出现&lt;code&gt;Custom domain&lt;/code&gt;选项，填入你的域名，点击Save&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;然后修改你的域名解析CNAME为&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;www | CNAME | name.github.io&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;@   | CNAME | name.github.io&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;过一会儿就可以用自定义域名看到了&lt;/p&gt;
&lt;h4&gt;关于其他东西以后再说，就是这样。&lt;/h4&gt;
</content><link href="/archives/hexoblog/" rel="alternate"/><published>2020-02-07T19:08:00+08:06</published></entry><entry><id>/archives/enhttp3/</id><title>使用LiteSpeed为网站启用HTTP/3</title><updated>2020-02-28T10:41:19.193057+00:00</updated><author><name>jcjyxjs</name><email>admin@elstec.cn</email><uri>https://jcjyxjs.me</uri></author><content>&lt;h1&gt;我想说的&lt;/h1&gt;
&lt;p&gt;关于HTTP/3我就不介绍了，网上有，多说无益。真的。
就目前浏览器支持情况真的也就一般。&lt;/p&gt;
&lt;p&gt;&lt;figure style="flex: 149.80940279542565" &gt;&lt;img width="2358" height="787" src="https://cdn.elstec.cn/13/0.png" /&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h1&gt;实现&lt;/h1&gt;
&lt;p&gt;目前支持HTTP/3的只有LiteSpeed和Caddy，Nginx暂时还不支持，已知可行方法都需要通过Doker，也就是Nginx+Caddy实现，或者通过CloudFlare的开源项目实现，稳定性肯定不如前者。&lt;/p&gt;
&lt;h1&gt;过程&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;本次需要在服务器安全组或防火墙放通&lt;/strong&gt; &lt;code&gt;TCP:7080&lt;/code&gt; &lt;strong&gt;和&lt;/strong&gt; &lt;code&gt;UDP:443&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;我这次采用的是LiteSpeed的开源项目OpenLiteSpeed。&lt;/p&gt;
&lt;p&gt;OpenLiteSpeed有多种安装方式，我就采用第4种也就是命令行一键安装。
&lt;figure style="flex: 273.84393063583815" &gt;&lt;img width="1895" height="346" src="https://cdn.elstec.cn/13/3.png" /&gt;&lt;/figure&gt;
根据官方说法，OpenLiteSpeed仅支持具有64位平台的Centos（6-7），Debian（7-9）和Ubuntu（14,16,18）。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;wget --no-check-certificate https://raw.githubusercontent.com/litespeedtech/ols1clk/master/ols1clk.sh &amp;amp;&amp;amp; bash ols1clk.sh&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果需要安装WordPress,就在命令后面加&lt;code&gt;-w&lt;/code&gt;。运行的时候会告诉你后台密码，后台邮件，PHP版本，数据库版本以及两个端口。&lt;/p&gt;
&lt;p&gt;&lt;figure style="flex: 140.06462035541196" &gt;&lt;img width="1734" height="619" src="https://cdn.elstec.cn/13/4.png" /&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;安装完成之后，会把后台账号密码存储在&lt;code&gt;/usr/local/lsws/password&lt;/code&gt;。
这时可以用&lt;a href="https://ip:7080访问后台。"&gt;https://ip:7080访问后台。&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;首先需要在ssh中，cd到&lt;code&gt;/usr/local/lsws/&lt;/code&gt;该目录下，然后新建一个文件夹，名字随便。比方我叫&lt;code&gt;http3test&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mkdir http3test
mkdir http3test/{conf,html,logs}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;访问web后台 &lt;em&gt;（后台可以改简体中文）&lt;/em&gt; 点击虚拟主机，再点击➕号进行新建虚拟主机。
虚拟主机名使用域名就行，虚拟主机根目录就是刚刚创建的文件夹名称，配置文件就这么填&lt;code&gt;$SERVER_ROOT/conf/vhosts/http3test.elstec.cn/vhconf.conf&lt;/code&gt;要把文件夹名称改成自己的。先填写完整之后点击保存，会提示没有配置文件，点击旁边的&lt;code&gt;CLICK TO CREATE&lt;/code&gt;进行创建，再次保存就可以了。&lt;em&gt;（启用脚本/外部应用程序和访问管制随你一般没什么用就选否。）&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure style="flex: 140.01883239171374" &gt;&lt;img width="2974" height="1062" src="https://cdn.elstec.cn/13/5.png" /&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;新建虚拟机之后先不要平滑重启。点击查看进入虚拟机设置，查看就是一个放大镜图标。点击SSL选项，找到安全，点击修改，把&lt;code&gt;Enable QUIC&lt;/code&gt;改为是，并保存。&lt;/p&gt;
&lt;p&gt;&lt;figure style="flex: 162.56771397616467" &gt;&lt;img width="3001" height="923" src="https://cdn.elstec.cn/13/6.png" /&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;找到监听器，就是虚拟主机选项上面那个。默认有80和443，443点击查看。找到SSL，找到SSL私钥和证书，点击编辑，填入你的证书地址，然后保存。再次找到安全和特性选项，把&lt;code&gt;Allow QUIC&lt;/code&gt;改是就行。
退回到443的常规，最下方有一个虚拟主机映射，新建映射，把虚拟主机和域名进行绑定，保存即可。&lt;/p&gt;
&lt;p&gt;&lt;figure style="flex: 179.08653846153845" &gt;&lt;img width="2980" height="832" src="https://cdn.elstec.cn/13/7.png" /&gt;&lt;/figure&gt;
然后进行平滑重启。页面索引什么的我就不说了没意思。
最后就是测试结果+HTTP/3 CHECK的结果。
&lt;figure style="flex: 43.511146496815286" &gt;&lt;img width="1093" height="1256" src="https://cdn.elstec.cn/13/1.png" /&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure style="flex: 66.52587117212249" &gt;&lt;img width="1260" height="947" src="https://cdn.elstec.cn/13/2.png" /&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;需要浏览器支持的话，Chrome打开&lt;code&gt;chrome://flags/&lt;/code&gt;，找到&lt;code&gt;Experimental QUIC protocol&lt;/code&gt;选择Enabled。新版Edge也可以直接复制打开，页面会自动跳转到&lt;code&gt;edge://flags/&lt;/code&gt;步骤同上就行。&lt;/p&gt;
&lt;h1&gt;最后&lt;/h1&gt;
&lt;p&gt;我想说，我评论区的评论通知有时候会鬼畜发不出去我也没办法，到时候再说:P&lt;/p&gt;
</content><link href="/archives/enhttp3/" rel="alternate"/><published>2020-02-12T21:50:00+08:06</published></entry><entry><id>/archives/jsimage/</id><title>DOM实现JavaScript图片库</title><updated>2020-02-28T10:41:19.193057+00:00</updated><author><name>jcjyxjs</name><email>admin@elstec.cn</email><uri>https://jcjyxjs.me</uri></author><content>&lt;h1&gt;我想说的&lt;/h1&gt;
&lt;blockquote&gt;&lt;p&gt;我比较菜（小声bb）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;实现&lt;/h1&gt;
&lt;h3&gt;HTML部分&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt; &lt;span class="na"&gt;lang&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;en&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;meta&lt;/span&gt; &lt;span class="na"&gt;charset&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;UTF-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;meta&lt;/span&gt; &lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;viewport&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;content&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;width=device-width, initial-scale=1.0&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;test1&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tupianku.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;Test&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;ul&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt; &lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
                &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;1.jpg&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;onclick&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;showpic(this);&lt;/span&gt;
&lt;span class="s"&gt;                 return false&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;image1&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
                &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;2.jpg&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;onclick&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;showpic(this);&lt;/span&gt;
&lt;span class="s"&gt;                 return false&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;image2&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
                &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;3.jpg&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;onclick&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;showpic(this);&lt;/span&gt;
&lt;span class="s"&gt;                 return false&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;image3&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;ul&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;img&lt;/span&gt; &lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;img123&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;https://cdn.elstec.cn/14/5.jpg&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;JS部分&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="nx"&gt;showpic&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;whitchpic&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;bianliang&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;whitchpic&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;getAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;href&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;place&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;getElementById&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;img123&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nx"&gt;place&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;setAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;src&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nx"&gt;bianliang&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;原理&lt;/h1&gt;
&lt;p&gt;创建一个函数名为 &lt;code&gt;showpic&lt;/code&gt; ， &lt;code&gt;whitchpic&lt;/code&gt; 为参数。&lt;code&gt;whitchpic&lt;/code&gt; 通过调用 &lt;code&gt;getAttribute&lt;/code&gt; ，把 &lt;code&gt;"href"&lt;/code&gt; 作为参数传递给 &lt;code&gt;getAttribute&lt;/code&gt; ，声明一个变量并把语句赋给它。
接下来获取占位图，需要在 &lt;code&gt;html&lt;/code&gt; 部分进行修改。 &lt;code&gt;&amp;lt;img&amp;gt;&lt;/code&gt; 元素添加 &lt;code&gt;id&lt;/code&gt; ，调用 &lt;code&gt;document.getElementById&lt;/code&gt; ，再次声明一个变量并把语句赋给它。最后通过 &lt;code&gt;setAttribute&lt;/code&gt; 进行实现。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nx"&gt;变量2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;setAttribute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;src&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nx"&gt;变量1&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;html部分中，都是采用 &lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt; 元素,添加处理函数 &lt;code&gt;showpic(this); return false&lt;/code&gt; ，防止被带到新窗口。&lt;/p&gt;
&lt;h1&gt;效果&lt;/h1&gt;
&lt;html&gt;
&lt;!--在这里插入内容--&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;test1&lt;/title&gt;
    &lt;script type="text/javascript" src="https://cdn.elstec.cn/14/tupianku.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
        &lt;ul&gt;
            &lt;li &gt;
                &lt;a href="https://cdn.elstec.cn/14/1.jpg" onclick="showpic(this);
                 return false"&gt;image1&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="https://cdn.elstec.cn/14/2.jpg" onclick="showpic(this);
                 return false"&gt;image2&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="https://cdn.elstec.cn/14/3.jpg" onclick="showpic(this);
                 return false"&gt;image3&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
        &lt;img id="img123" src="https://cdn.elstec.cn/14/5.jpg"&gt;
&lt;/body&gt;
&lt;/html&gt;</content><link href="/archives/jsimage/" rel="alternate"/><published>2020-02-13T21:50:00+08:06</published></entry><entry><id>/archives/20200217/</id><title>疫情期间在家の无聊生活</title><updated>2020-02-28T10:41:19.193057+00:00</updated><author><name>jcjyxjs</name><email>admin@elstec.cn</email><uri>https://jcjyxjs.me</uri></author><content>&lt;div class="notice"&gt;我   要   无   聊   死   了  &lt;/div&gt;&lt;p&gt;如题，确实挺无聊的。但是闲着没事上RTARBG下神盾局看，不得不说那个时候的画质拿到现在来也确实不错。&lt;/p&gt;
&lt;p&gt;&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/15/1.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;div&gt;
还有现在巨火的梨泰院class，好看是真的好看
&lt;img style="display:inline" src="https://cdn.elstec.cn/%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9%E8%A1%A8%E6%83%85%E5%8C%85/doge.png" width="24" height="24"&gt;不过只在Netflix和JTBC播出，观看比较麻烦其他都挺好。
&lt;/div&gt;&lt;div class="dplayer"  data-url="https://media.elstec.cn/15/1.mp4"&gt;&lt;/div&gt;&lt;div class="photos"&gt;
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/15/3.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/15/4.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;&lt;/div&gt;&lt;div class="photos"&gt;
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/15/5.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/15/6.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;&lt;/div&gt;&lt;div class="photos"&gt;
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/15/7.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;
&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/15/8.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;&lt;/div&gt;&lt;blockquote&gt;&lt;p&gt;虽然现在相对放开了，但出门总还是有点慌。每天大半夜睡早上10点起。学校也不开学，这还是我头一次如此盼望开学。一天到晚盯着电脑看属实没意思。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;于是日常回访友链。发现某博客现在还有防F12，防复制，防右键。防复制我觉得就挺神奇，因为ta不仅有防复制还有复制之后的弹窗脚本。&lt;/p&gt;
&lt;p&gt;&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/15/2.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;反正在家里没事做，就研究研究这个好了，反正也不难，学习一下。&lt;/p&gt;
&lt;p&gt;进入该站之后，无法通过F12，Ctrl+Shift+I调出开发者工具，只能手动。于是我返回首页并开启debug模式。在index找到跳转脚本如下。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;ConsoleManager&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="nx"&gt;onOpen&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;location&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;href&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
                &lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;location&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;href&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;./back.html&amp;quot;&lt;/span&gt;
            &lt;span class="p"&gt;},&lt;/span&gt;
            &lt;span class="nx"&gt;onClose&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="p"&gt;},&lt;/span&gt;
            &lt;span class="nx"&gt;init&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;self&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
                &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;createElement&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;div&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="kd"&gt;var&lt;/span&gt; &lt;span class="nx"&gt;isOpening&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                    &lt;span class="nx"&gt;isOpened&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
                &lt;span class="nb"&gt;Object&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;defineProperty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;id&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nx"&gt;get&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nx"&gt;isOpening&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                            &lt;span class="nx"&gt;self&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;onOpen&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
                            &lt;span class="nx"&gt;isOpening&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
                        &lt;span class="p"&gt;}&lt;/span&gt;
                        &lt;span class="nx"&gt;isOpened&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
                    &lt;span class="p"&gt;}&lt;/span&gt;
                &lt;span class="p"&gt;});&lt;/span&gt;
                &lt;span class="nx"&gt;setInterval&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="nx"&gt;isOpened&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
                    &lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;info&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;x&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                    &lt;span class="nx"&gt;console&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;clear&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
                    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nx"&gt;isOpened&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nx"&gt;isOpening&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                        &lt;span class="nx"&gt;self&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;onClose&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
                        &lt;span class="nx"&gt;isOpening&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
                    &lt;span class="p"&gt;}&lt;/span&gt;
                &lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="nx"&gt;e3&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="nx"&gt;ConsoleManager&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;init&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后在找防F12脚本的时候，看到了他的两个好兄弟 &lt;code&gt;复制弹窗和防复制&lt;/code&gt; 。这时候有意思的事情就来了，ta的站防复制为什么还有复制弹窗，反正挺迷的&lt;img style="display:inline" src="https://cdn.elstec.cn/%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9%E8%A1%A8%E6%83%85%E5%8C%85/doge.png" width="24" height="24"&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;&amp;lt;!-- 复制弹窗sweetalert2 直接访问有防盗链--&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;https://typecho-1257629916.file.myqcloud.com/sweetalert2.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;

&lt;span class="c"&gt;&amp;lt;!-- 防F12 --&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;onkeydown&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;event&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nb"&gt;window&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;event&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;keyCode&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;123&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="nx"&gt;event&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;keyCode&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="nx"&gt;event&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;returnValue&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;

&lt;span class="c"&gt;&amp;lt;!-- 防复制 --&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;language&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Javascript&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;oncontextmenu&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nb"&gt;Function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;event.returnValue=false&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;onselectstart&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nb"&gt;Function&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;event.returnValue=false&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;

&lt;span class="c"&gt;&amp;lt;!-- 复制弹窗 --&amp;gt;&lt;/span&gt;
document.body.oncopy = function()
{
Swal.fire({
  allowOutsideClick:false,
  allowEscapeKey:false,
  showConfirmButton: false,
  icon:&amp;#39;warning&amp;#39;,
  timer: 2000,
  title: &amp;#39;复制成功！转载请注明出处！&amp;#39;,
});
};
&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;
&lt;p&gt;其实我觉得，现在做站，这种东西花里胡哨的没必要加。治标不治本，加载这么多js还对网站性能造成影响。不过做站还是自己开心来的好。&lt;/p&gt;
</content><link href="/archives/20200217/" rel="alternate"/><published>2020-02-17T21:50:00+08:06</published></entry><entry><id>/archives/cfcus/</id><title>CloudFlare自选节点</title><updated>2020-02-28T10:41:19.193057+00:00</updated><author><name>jcjyxjs</name><email>admin@elstec.cn</email><uri>https://jcjyxjs.me</uri></author><content>&lt;h1&gt;首先&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;需要有Cloudflare Partener或使用别人的。原因很简单，因为官方只允许NS接入，CFP贼可以IP/CNAME接入。这里推荐 &lt;a href="http://cdn.bnxb.com/"&gt;http://cdn.bnxb.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;自选IP原理就是国内DNS解析的时候分配最快的IP然后用A记录解析到这个IP上，国外保持不变。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/16/1.svg" /&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h1&gt;实现&lt;/h1&gt;
&lt;p&gt;首先添加域名（我是用的奔牛，用什么其实原理都一样）&lt;/p&gt;
&lt;p&gt;&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/16/2.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;然后可以在解析设置看到需要解析的地址，先CNAME解析然后等待SSL签发。默认IP直接ping这条CNAME记录就行。&lt;/p&gt;
&lt;p&gt;&lt;figure  size-undefined&gt;&lt;img width="-1" height="-1" src="https://cdn.elstec.cn/16/3.png?imageMogr2/format/webp/interlace/1/quality/100" /&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;SSL签发之后，进入dns解析把CNAME解析删掉，国内根据情况分线路进行解析。境外默认分配IP就行。&lt;/p&gt;
&lt;h1&gt;其他&lt;/h1&gt;
&lt;p&gt;CloudFlare官方公示IP
&lt;a href="https://www.cloudflare.com/zh-cn/ips/"&gt;https://www.cloudflare.com/zh-cn/ips/&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;IPv4&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;173.245.48.0/20&lt;/li&gt;
&lt;li&gt;103.21.244.0/22&lt;/li&gt;
&lt;li&gt;103.22.200.0/22&lt;/li&gt;
&lt;li&gt;103.31.4.0/22&lt;/li&gt;
&lt;li&gt;141.101.64.0/18&lt;/li&gt;
&lt;li&gt;108.162.192.0/18&lt;/li&gt;
&lt;li&gt;190.93.240.0/20&lt;/li&gt;
&lt;li&gt;188.114.96.0/20&lt;/li&gt;
&lt;li&gt;197.234.240.0/22&lt;/li&gt;
&lt;li&gt;198.41.128.0/17&lt;/li&gt;
&lt;li&gt;162.158.0.0/15&lt;/li&gt;
&lt;li&gt;104.16.0.0/12&lt;/li&gt;
&lt;li&gt;172.64.0.0/13&lt;/li&gt;
&lt;li&gt;131.0.72.0/22&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;IPv6&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;2400:cb00::/32&lt;/li&gt;
&lt;li&gt;2606:4700::/32&lt;/li&gt;
&lt;li&gt;2803:f800::/32&lt;/li&gt;
&lt;li&gt;2405:b500::/32&lt;/li&gt;
&lt;li&gt;2405:8100::/32&lt;/li&gt;
&lt;li&gt;2a06:98c0::/29&lt;/li&gt;
&lt;li&gt;2c0f:f248::/32&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;百度云合作线路&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;162.159.208.4-162.159.208.103&lt;/li&gt;
&lt;li&gt;162.159.209.4-162.159.209.103&lt;/li&gt;
&lt;li&gt;162.159.210.4-162.159.210.103&lt;/li&gt;
&lt;li&gt;162.159.211.4-162.159.211.103&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;其他线路网上有，百度云合作线路建议电信。&lt;/p&gt;
</content><link href="/archives/cfcus/" rel="alternate"/><published>2020-02-28T21:50:00+08:06</published></entry></feed>